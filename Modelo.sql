-- MySQL Script generated by MySQL Workbench
-- Tue Mar  7 19:20:30 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`TIPO_INFORMACION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO_INFORMACION` (
  `COD_TIPO_INFORMACION` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NULL,
  PRIMARY KEY (`COD_TIPO_INFORMACION`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TIPO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO` (
  `CODIGO_TIPO` INT NOT NULL,
  `TIPO` VARCHAR(45) NULL,
  PRIMARY KEY (`CODIGO_TIPO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FORMATO_MENSAJE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FORMATO_MENSAJE` (
  `COD_FORMATO` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NULL,
  `REMITENTE` VARCHAR(45) NULL,
  `ASUNTO` VARCHAR(45) NULL,
  `COD_TIPO_INFORMACION` INT NOT NULL,
  `COD_TIPO` INT NOT NULL,
  PRIMARY KEY (`COD_FORMATO`),
  INDEX `fk_FORMATO_MENSAJE_TIPO_INFORMACION1_idx` (`COD_TIPO_INFORMACION` ASC) VISIBLE,
  INDEX `fk_FORMATO_MENSAJE_TIPO1_idx` (`COD_TIPO` ASC) VISIBLE,
  CONSTRAINT `fk_FORMATO_MENSAJE_TIPO_INFORMACION1`
    FOREIGN KEY (`COD_TIPO_INFORMACION`)
    REFERENCES `mydb`.`TIPO_INFORMACION` (`COD_TIPO_INFORMACION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FORMATO_MENSAJE_TIPO1`
    FOREIGN KEY (`COD_TIPO`)
    REFERENCES `mydb`.`TIPO` (`COD_TIPO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`MENSAJE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`MENSAJE` (
  `COD_MENSAJE` INT NOT NULL,
  `PROYECTO` INT NOT NULL,
  `PRODUCTO` INT NOT NULL,
  `COD_FORMATO` INT NOT NULL,
  PRIMARY KEY (`COD_MENSAJE`),
  INDEX `fk_MENSAJE_PRODUCTO_PROYECTO1_idx` (`PROYECTO` ASC, `PRODUCTO` ASC) VISIBLE,
  INDEX `fk_MENSAJE_FORMATO_MENSAJE1_idx` (`COD_FORMATO` ASC) VISIBLE,
  CONSTRAINT `fk_MENSAJE_PRODUCTO_PROYECTO1`
    FOREIGN KEY (`PROYECTO` , `PRODUCTO`)
    REFERENCES `mydb`.`PRODUCTO_PROYECTO` (`PROYECTO_PROYECTO` , `PRODUCTO_PRODUCTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MENSAJE_FORMATO_MENSAJE1`
    FOREIGN KEY (`COD_FORMATO`)
    REFERENCES `mydb`.`FORMATO_MENSAJE` (`COD_FORMATO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PROYECTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PROYECTO` (
  `PROYECTO` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NULL,
  PRIMARY KEY (`PROYECTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PRODUCTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PRODUCTO` (
  `PRODUCTO` INT NOT NULL,
  `DESCRIPCION` VARCHAR(45) NULL,
  PRIMARY KEY (`PRODUCTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PRODUCTO_PROYECTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PRODUCTO_PROYECTO` (
  `PROYECTO_PROYECTO` INT NOT NULL,
  `PRODUCTO_PRODUCTO` INT NOT NULL,
  PRIMARY KEY (`PROYECTO_PROYECTO`, `PRODUCTO_PRODUCTO`),
  INDEX `fk_PRODUCTO_PROYECTO_PRODUCTO1_idx` (`PRODUCTO_PRODUCTO` ASC) VISIBLE,
  CONSTRAINT `fk_PRODUCTO_PROYECTO_PROYECTO1`
    FOREIGN KEY (`PROYECTO_PROYECTO`)
    REFERENCES `mydb`.`PROYECTO` (`PROYECTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUCTO_PROYECTO_PRODUCTO1`
    FOREIGN KEY (`PRODUCTO_PRODUCTO`)
    REFERENCES `mydb`.`PRODUCTO` (`PRODUCTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`MENSAJE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`MENSAJE` (
  `COD_MENSAJE` INT NOT NULL,
  `PROYECTO` INT NOT NULL,
  `PRODUCTO` INT NOT NULL,
  `COD_FORMATO` INT NOT NULL,
  PRIMARY KEY (`COD_MENSAJE`),
  INDEX `fk_MENSAJE_PRODUCTO_PROYECTO1_idx` (`PROYECTO` ASC, `PRODUCTO` ASC) VISIBLE,
  INDEX `fk_MENSAJE_FORMATO_MENSAJE1_idx` (`COD_FORMATO` ASC) VISIBLE,
  CONSTRAINT `fk_MENSAJE_PRODUCTO_PROYECTO1`
    FOREIGN KEY (`PROYECTO` , `PRODUCTO`)
    REFERENCES `mydb`.`PRODUCTO_PROYECTO` (`PROYECTO_PROYECTO` , `PRODUCTO_PRODUCTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MENSAJE_FORMATO_MENSAJE1`
    FOREIGN KEY (`COD_FORMATO`)
    REFERENCES `mydb`.`FORMATO_MENSAJE` (`COD_FORMATO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`SUBTIPO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`SUBTIPO` (
  `CODIGO_SUBTIPO` INT NOT NULL,
  `SUBTIPO` VARCHAR(45) NULL,
  PRIMARY KEY (`CODIGO_SUBTIPO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TIPO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO` (
  `CODIGO_TIPO` INT NOT NULL,
  `TIPO` VARCHAR(45) NULL,
  PRIMARY KEY (`CODIGO_TIPO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ARTICULO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ARTICULO` (
  `CODIGO_ARTICULO` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NULL,
  `DESCRIPCION` VARCHAR(100) NULL,
  `PRECIO` DOUBLE NULL,
  `CODIGO_TIPO` INT NOT NULL,
  `CODIGO_SUBTIPO` INT NOT NULL,
  PRIMARY KEY (`CODIGO_ARTICULO`),
  INDEX `fk_ARTICULO_TIPO1_idx` (`CODIGO_TIPO` ASC) VISIBLE,
  INDEX `fk_ARTICULO_SUBTIPO1_idx` (`CODIGO_SUBTIPO` ASC) VISIBLE,
  CONSTRAINT `fk_ARTICULO_TIPO1`
    FOREIGN KEY (`CODIGO_TIPO`)
    REFERENCES `mydb`.`TIPO` (`CODIGO_TIPO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ARTICULO_SUBTIPO1`
    FOREIGN KEY (`CODIGO_SUBTIPO`)
    REFERENCES `mydb`.`SUBTIPO` (`CODIGO_SUBTIPO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PROMOCION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PROMOCION` (
  `CODIGO_PROMOCION` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NULL,
  `DESCRIPCION` VARCHAR(45) NULL,
  `F_INICIO` DATE NULL,
  `F_FIN` DATE NULL,
  PRIMARY KEY (`CODIGO_PROMOCION`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DESCRIPCION_PROMOCION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DESCRIPCION_PROMOCION` (
  `CODIGO_DESCRIPCION_PROMOCION` INT NOT NULL,
  `PUNTOS` INT NOT NULL,
  `CODIGO_ARTICULO` INT NOT NULL,
  `PROMOCION_CODIGO_PROMOCION` INT NOT NULL,
  PRIMARY KEY (`CODIGO_DESCRIPCION_PROMOCION`),
  INDEX `fk_DESCRIPCION_PROMOCION_ARTICULO1_idx` (`CODIGO_ARTICULO` ASC) VISIBLE,
  INDEX `fk_DESCRIPCION_PROMOCION_PROMOCION1_idx` (`PROMOCION_CODIGO_PROMOCION` ASC) VISIBLE,
  CONSTRAINT `fk_DESCRIPCION_PROMOCION_ARTICULO1`
    FOREIGN KEY (`CODIGO_ARTICULO`)
    REFERENCES `mydb`.`ARTICULO` (`CODIGO_ARTICULO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DESCRIPCION_PROMOCION_PROMOCION1`
    FOREIGN KEY (`PROMOCION_CODIGO_PROMOCION`)
    REFERENCES `mydb`.`PROMOCION` (`CODIGO_PROMOCION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CLIENTE` (
  `CODIGO_CLIENTE` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NULL,
  `APELLIDO` VARCHAR(45) NULL,
  `EDAD` INT NULL,
  `DIRECCION` VARCHAR(100) NULL,
  `TELEFONO` INT NULL,
  `IDENTIFICACION` INT NULL,
  PRIMARY KEY (`CODIGO_CLIENTE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`SUCURSAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`SUCURSAL` (
  `CODIGO_SUCURSAL` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NULL,
  `DIRECCION` VARCHAR(70) NULL,
  `TELEFONO` INT NULL,
  PRIMARY KEY (`CODIGO_SUCURSAL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CANJEAR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CANJEAR` (
  `CODIGO_CANJE` INT NOT NULL,
  `DESCRIPCION` VARCHAR(45) NULL,
  `CANTIDAD` INT NULL,
  `PRECIO` DOUBLE NULL,
  `DESCRIPCION_PROMOCION` INT NOT NULL,
  `CODIGO_CLIENTE` INT NOT NULL,
  `SUCURSAL_CODIGO_SUCURSAL` INT NOT NULL,
  PRIMARY KEY (`CODIGO_CANJE`),
  INDEX `fk_CANJEAR_DESCRIPCION_PROMOCION1_idx` (`DESCRIPCION_PROMOCION` ASC) VISIBLE,
  INDEX `fk_CANJEAR_CLIENTE1_idx` (`CODIGO_CLIENTE` ASC) VISIBLE,
  INDEX `fk_CANJEAR_SUCURSAL1_idx` (`SUCURSAL_CODIGO_SUCURSAL` ASC) VISIBLE,
  CONSTRAINT `fk_CANJEAR_DESCRIPCION_PROMOCION1`
    FOREIGN KEY (`DESCRIPCION_PROMOCION`)
    REFERENCES `mydb`.`DESCRIPCION_PROMOCION` (`CODIGO_DESCRIPCION_PROMOCION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CANJEAR_CLIENTE1`
    FOREIGN KEY (`CODIGO_CLIENTE`)
    REFERENCES `mydb`.`CLIENTE` (`CODIGO_CLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CANJEAR_SUCURSAL1`
    FOREIGN KEY (`SUCURSAL_CODIGO_SUCURSAL`)
    REFERENCES `mydb`.`SUCURSAL` (`CODIGO_SUCURSAL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`EXISTENCIA_SUCURSAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`EXISTENCIA_SUCURSAL` (
  `CODIGO_EXISTENCIA_SUCURSAL` INT NOT NULL,
  `EXISTENCIA` INT NOT NULL,
  `CODIGO_SUCURSAL` INT NOT NULL,
  PRIMARY KEY (`CODIGO_EXISTENCIA_SUCURSAL`),
  INDEX `fk_EXISTENCIA_SUCURSAL_SUCURSAL1_idx` (`CODIGO_SUCURSAL` ASC) VISIBLE,
  CONSTRAINT `fk_EXISTENCIA_SUCURSAL_SUCURSAL1`
    FOREIGN KEY (`CODIGO_SUCURSAL`)
    REFERENCES `mydb`.`SUCURSAL` (`CODIGO_SUCURSAL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
